/*! leaflet.marker.pin - version 1.1.0 - 2016-02-28 - Copyright 2015 2016 Christian Guyette - Contact: http//www.ouaie.be/ - This  program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or any later version.*/

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(){"use strict";var c=[];L.Marker.Pin.getCategories=function(){var d;return d="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Translator"):L.marker.pin.translator(),{sort:function(){c=c.sort(function(a,b){return a.CategoryName.localeCompare(b.CategoryName,d.UserLanguage)})},addCategory:function(d,e,f){var g;return this.getCategory(d)?(console.log("CategoryId "+d+" is already used"),!1):(g="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Category")(d,e,f):L.marker.pin.category(d,e,f),g?(c.push(g),this.sort(),!0):!1)},getAt:function(a){return c[a]},getCategory:function(a){for(var b=0;b<c.length;b++)if(c[b].CategoryId===a)return c[b]},addDefaultCategories:function(){this.addCategory("01",{en:"Airport",fr:"Aéroport",nl:"Luchthaven"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0001"></div>'})),this.addCategory("02",{en:"Ascent",fr:"Montée",nl:"Helling"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0002"></div>'})),this.addCategory("03",{en:"ATM",fr:"Distributeur de billets",nl:"Giromaat"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0003"></div>'})),this.addCategory("04",{en:"Attention",fr:"Attention requise",nl:"Pas op"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0004"></div>'})),this.addCategory("05",{en:"Bikes admitted",fr:"Vélos admis",nl:"Fiets welkom"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0005"></div>'})),this.addCategory("06",{en:"Bus",fr:"Autobus",nl:"Bus"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0006"></div>'})),this.addCategory("07",{en:"Picture",fr:"Photo",nl:"Foto"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0007"></div>'})),this.addCategory("08",{en:"Camping",fr:"Camping",nl:"Camping"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0008"></div>'})),this.addCategory("09",{en:"Ferry",fr:"Ferry",nl:"Veerboot"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0009"></div>'})),this.addCategory("10",{en:"Youth hostel",fr:"Auberge de jeunesse",nl:"Jeugdherberg"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0010"></div>'})),this.addCategory("11",{en:"Information point",fr:"Point d'information",nl:"Informatiepunt"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0011"></div>'})),this.addCategory("12",{en:"National park",fr:"Parc national",nl:"Nationaal park"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0012"></div>'})),this.addCategory("13",{en:"Bike not authorized",fr:"Vélos mal vus",nl:"Fiets niet welkom"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0013"></div>'})),this.addCategory("14",{en:"Regional park",fr:"Parc régional",nl:"Gewestelijk natuurpark"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0014"></div>'})),this.addCategory("15",{en:"Repair",fr:"Entretien vélo",nl:"Rijwielhersteller"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0015"></div>'})),this.addCategory("16",{en:"Shop",fr:"Magasin",nl:"Winkel"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0016"></div>'})),this.addCategory("17",{en:"Help",fr:"Aide",nl:"Hulp"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0017"></div>'})),this.addCategory("18",{en:"Stop",fr:"Stop",nl:"Stop"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0018"></div>'})),this.addCategory("19",{en:"Table",fr:"Table",nl:"Tafel"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0019"></div>'})),this.addCategory("20",{en:"Toilets",fr:"Toilettes",nl:"Toilet"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0020"></div>'})),this.addCategory("21",{en:"Railway station",fr:"Gare",nl:"Treinstation"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0021"></div>'})),this.addCategory("22",{en:"Tunnel",fr:"Tunnel",nl:"Tunnel"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0022"></div>'})),this.addCategory("23",{en:"Water point",fr:"Point d'eau",nl:"Waterpunt"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0023"></div>'})),this.addCategory("24",{en:"Bed and breakfast",fr:"Chambre d'hotes",nl:"Bed and Breakfast"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0024"></div>'})),this.addCategory("25",{en:"Coffe shop",fr:"Cafetaria ",nl:"Cafetaria "},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0025"></div>'})),this.addCategory("26",{en:"Restaurant",fr:"Restaurant",nl:"Restaurant"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0026"></div>'})),this.addCategory("27",{en:"Hostel",fr:"Hôtel",nl:"Hotel"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0027"></div>'})),this.addCategory("28",{en:"Start",fr:"Départ",nl:"Start"},L.divIcon({iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20],html:'<div class="Pin-Icon Pin-Category-0028"></div>'}))},get length(){return c.length}}},L.marker.pin.categories=function(){return L.Marker.Pin.getCategories()},"undefined"!=typeof b&&b.exports&&(b.exports=L.marker.pin.categories())}()},{"./L.Marker.Pin.Category":2,"./L.Marker.Pin.Translator":8}],2:[function(a,b,c){!function(){"use strict";L.Marker.Pin.getCategory=function(c,d,e){var f;if(f="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Translator"):L.marker.pin.translator(),!f.addTranslations("L.Marker.Pin.Category."+c,d))return!1;var g=c,h=e;return{get CategoryName(){return f.getText("L.Marker.Pin.Category."+g)},get CategoryId(){return g},get CategoryIcon(){return h}}},L.marker.pin.category=function(a,b,c){return L.Marker.Pin.getCategory(a,b,c)},"undefined"!=typeof b&&b.exports&&(b.exports=L.marker.pin.category)}()},{"./L.Marker.Pin.Translator":8}],3:[function(a,b,c){!function(){"use strict";L.Marker.Pin.ContextMenu=function(c){var d;d="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Translator"):L.marker.pin.translator();var e=c.target,f=e.options.map,g={text:e.options.text,phone:e.options.phone,url:e.options.url,address:e.options.address,pinCategory:e.options.pinCategory,exist:!0,pinObject:e},h=L.DomUtil.create("div","PinMenu-MainDiv");L.DomEvent.on(h,"keyup",function(a){("Escape"===a.key||"Esc"===a.key)&&f.closePopup()});var i=L.DomUtil.create("button","PinMenu-EditPinButton",h);i.setAttribute("type","button"),i.innerHTML=d.getText("L.Marker.Pin.ContextMenu.EditPin");var j;j="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.EditDialog"):L.marker.pin.editdialog,L.DomEvent.on(i,"click",function(){f.closePopup(),new j(f,e.getLatLng(),g).show()});var k=L.DomUtil.create("button","PinMenu-DeletePinButton",h);k.setAttribute("type","button"),k.innerHTML=d.getText("L.Marker.Pin.ContextMenu.DeletePin"),L.DomEvent.on(k,"click",function(){f.closePopup();var c;c="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Pins"):L.marker.pin.pins(),c.remove(e),f.removeLayer(e)});var l=L.DomUtil.create("button","PinMenu-CancelPinButton",h);l.setAttribute("type","button"),l.innerHTML=d.getText("L.Marker.Pin.ContextMenu.CloseMenu"),l.id="CancelPinButton",L.DomEvent.on(l,"click",function(){f.closePopup()}),L.popup({keepInView:!0,closeButton:!0,maxWidth:400,className:"PinMenu"}).setContent(h).setLatLng(e.getLatLng()).openOn(f),document.getElementById("CancelPinButton").focus()},L.marker.pin.contextmenu=function(a){return new L.Marker.Pin.ContextMenu(a)},"undefined"!=typeof b&&b.exports&&(b.exports=L.marker.pin.contextmenu)}()},{"./L.Marker.Pin.EditDialog":5,"./L.Marker.Pin.Pins":7,"./L.Marker.Pin.Translator":8}],4:[function(a,b,c){!function(){"use strict";var c;c="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Pins"):L.marker.pin.pins();var d;d="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Translator"):L.marker.pin.translator();var e,f,g,h,i,j="0",k=400,l=!0,m=function(a){for(var b=a.target;b&&b.className&&-1===b.className.indexOf("PinControl-Pin");)b=b.parentNode;b&&b.className&&-1!==b.className.indexOf("PinControl-Pin")&&c.zoomTo(b.dataset.pinRange),a.stopPropagation()},n=function(d){for(var e=d.target;e&&e.className&&-1===e.className.indexOf("PinControl-Pin");)e=e.parentNode;if(e&&e.className&&-1!==e.className.indexOf("PinControl-Pin")){var f,g=c.zoomTo(e.dataset.pinRange),h=g.options.map,i={text:g.options.text,phone:g.options.phone,url:g.options.url,address:g.options.address,pinCategory:g.options.pinCategory,exist:!0,pinObject:g};f="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.EditDialog"):L.marker.pin.editdialog,new f(h,g.getLatLng(),i).show()}d.stopPropagation()},o=function(a){a.preventDefault();for(var b=a.target;b&&b.className&&-1===b.className.indexOf("PinControl-Pin");)b=b.parentNode;b&&b.className&&-1!==b.className.indexOf("PinControl-Pin")&&c.zoomTo(b.dataset.pinRange),a.stopPropagation()},p=function(a){a.stopPropagation()},q=function(a){var b=document.getElementById("PinControl-Pins");a.deltaY&&(b.scrollTop=b.scrollTop+10*a.deltaY),a.stopPropagation()},r=function(a){try{a.dataTransfer.setData("PinRange",a.target.dataset.pinRange)}catch(b){}j=a.target.dataset.pinRange,a.stopPropagation()},s=function(a){var b=document.getElementById("PinControl-Pins");30>a.clientY-document.getElementById("PinControl-Pins").getBoundingClientRect().top?b.scrollTop=b.scrollTop-30:30>document.getElementById("PinControl-Pins").getBoundingClientRect().bottom-a.clientY&&(b.scrollTop=b.scrollTop+30)},t=function(a){a.stopPropagation()},u=function(a){for(var b=a.target;b&&b.className&&-1===b.className.indexOf("PinControl-Pin");)b=b.parentNode;var d;b&&b.className&&-1!==b.className.indexOf("PinControl-Pin")&&(d=b.dataset.pinRange,a.clientY-b.getBoundingClientRect().top<b.getBoundingClientRect().bottom-a.clientY?c.order(j,d,!1):c.order(j,d,!0)),a.stopPropagation()},v=function(a){var b=c.LatLngBounds;b.isValid()&&i.fitBounds(b),a.stopPropagation()},w=function(a){var b=document.getElementById("PinControl-Pins");"hidden"===b.style.visibility?(b.setAttribute("style","visibility : visible; width: auto; min-width: 20em; height: auto; margin: 0.5em; max-height: "+k+"px"),a.target.id=e,a.target.setAttribute("title",d.getText("L.Marker.Pin.Control.onAdd.MinimizeButton")),b.dataset.minimized="no"):(b.setAttribute("style","visibility : hidden; width: 0; min-width: 0; height: 0; margin: 0.5em;"),a.target.id=f,a.target.setAttribute("title",d.getText("L.Marker.Pin.Control.onAdd.MaximizeButton")),b.dataset.minimized="yes"),a.stopPropagation()},x=function(a){var b=document.getElementById("PinControl-Pins");"hidden"!==b.style.visibility&&(k+=100,b.setAttribute("style","max-height: "+k+"px")),a.stopPropagation()},y=function(a){var b=document.getElementById("PinControl-Pins");"hidden"!==b.style.visibility&&k>200&&(k-=100,b.setAttribute("style","max-height: "+k+"px")),a.stopPropagation()},z=function(a){var b=L.DomUtil.create("div","PinControl-Pins",a);return b.id="PinControl-Pins",L.DomEvent.on(a,"click",m),L.DomEvent.on(a,"dblclick",n),L.DomEvent.on(a,"contextmenu",o),L.DomEvent.on(a,"dragstart",r),L.DomEvent.on(a,"dragover",s),L.DomEvent.on(a,"dragend",t),L.DomEvent.on(a,"mousedown",p),L.DomEvent.on(a,"drop",u),L.DomEvent.on(a,"mousewheel",q,!1),L.DomEvent.on(a,"wheel",q,!1),b.dataset.minimized="no",b},A=function(a,b){var c=L.DomUtil.create("div","PinControl-Buttons",a),i=L.DomUtil.create("div","PinControl-Button",c);i.setAttribute("title",d.getText("L.Marker.Pin.Control.onAdd.ZoomBoundsButton")),i.id="PinControl-ZoomBoundsButton",L.DomEvent.on(i,"click",v);var j=L.DomUtil.create("div","PinControl-Button",c);j.setAttribute("title",d.getText(b?"L.Marker.Pin.Control.onAdd.MaximizeButton":"L.Marker.Pin.Control.onAdd.MinimizeButton")),j.id=b?f:e,L.DomEvent.on(j,"click",w);var k=L.DomUtil.create("div","PinControl-Button",c);k.setAttribute("title",d.getText("L.Marker.Pin.Control.onAdd.ExtendButton")),k.id=h,L.DomEvent.on(k,"click",x);var l=L.DomUtil.create("div","PinControl-Button",c);return l.setAttribute("title",d.getText("L.Marker.Pin.Control.onAdd.ReduceButton")),l.id=g,L.DomEvent.on(l,"click",y),c};L.Marker.Pin.Control=L.Control.extend({options:{position:"topright"},initialize:function(a){switch(L.Util.setOptions(this,a),a.position){case"topleft":e="PinControl-ArrowTopLeftButton",f="PinControl-ArrowBottomRightButton",g="PinControl-ArrowTopButton",h="PinControl-ArrowBottomButton";break;case"topright":e="PinControl-ArrowTopRightButton",f="PinControl-ArrowBottomLeftButton",g="PinControl-ArrowTopButton",h="PinControl-ArrowBottomButton";break;case"bottomright":e="PinControl-ArrowBottomRightButton",f="PinControl-ArrowTopLeftButton",g="PinControl-ArrowBottomButton",h="PinControl-ArrowTopButton",l=!1;break;default:e="PinControl-ArrowBottomLeftButton",f="PinControl-ArrowTopRightButton",g="PinControl-ArrowBottomButton",h="PinControl-ArrowTopButton",l=!1}},onAdd:function(a){i=a;var b=L.DomUtil.create("div","PinControl-MainDiv");b.id="PinControl-MainDiv";var d;return l?(A(b,0===c.length),d=z(b)):(d=z(b),A(b,0===c.length)),0===c.length&&(d.setAttribute("style","visibility : hidden; width: 0; min-width: 0; height: 0; margin: 0.5em;"),d.dataset.minimized="yes"),b}}),L.marker.pin.control=function(a){return new L.Marker.Pin.Control(a)},"undefined"!=typeof b&&b.exports&&(b.exports=L.marker.pin.control)}()},{"./L.Marker.Pin.EditDialog":5,"./L.Marker.Pin.Pins":7,"./L.Marker.Pin.Translator":8}],5:[function(a,b,c){!function(){"use strict";L.Marker.Pin.getEditDialog=function(c,d,e){var f;f="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Translator"):L.marker.pin.translator();var g;g="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Categories"):L.marker.pin.categories();var h,i,j,k,l,m,n=function(a,b,c){var d=L.DomUtil.create("div",a,b);return d.innerHTML=c,d},o=function(a,b,c){var d=L.DomUtil.create("button",a,c);return d.setAttribute("type","button"),d.innerHTML=b,d},p=function(a,b,c,d){var e=L.DomUtil.create("input","InputClass",d);return e.setAttribute("type",a),e.setAttribute("value",b),e.setAttribute("placeholder",c),e},q=function(a){var b=L.DomUtil.create("select","SelectClass",a);return b},r=function(a,b){var c=L.DomUtil.create("option","",b);return c.innerHTML=a,c},s=function(){c.closePopup();var f;f="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin"):L.marker.pin;var h,n=f(d,{icon:g.getAt(m.selectedIndex).CategoryIcon,draggable:!0,className:"Pin",title:g.getAt(m.selectedIndex).CategoryName,phone:k.value,url:l.value,text:i.value,address:j.value,pinCategory:g.getAt(m.selectedIndex),map:c});h="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Pins"):L.marker.pin.pins();var o=h.push(n);n.bindPopup(n.getHtml()).addTo(c);var p;if(p="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.ContextMenu"):L.marker.pin.contextmenu,n.on("contextmenu",p),n.on("dragend",h.CallbackFunction),e.exist){var q=h.remove(e.pinObject);c.removeLayer(e.pinObject),h.order(o-1,q,!1)}},t=function(){h=L.DomUtil.create("div","PinEditDialog-MainDiv"),h.innerHTML=e.exist?f.getText("L.Marker.Pin.EditDialog.PinModification"):f.getText("L.Marker.Pin.EditDialog.NewPin"),L.DomEvent.on(h,"keyup",function(a){("Escape"===a.key||"Esc"===a.key)&&c.closePopup()});var a=n("PinEditDialog-TextDiv",h,f.getText("L.Marker.Pin.EditDialog.Text")+"&nbsp;:&nbsp;");i=p("text",e.text,"",a),i.id="TextInput";var b=n("PinEditDialog-AddressDiv",h,f.getText("L.Marker.Pin.EditDialog.Address")+"&nbsp;:&nbsp;");j=p("text",e.address,"Havée du Renard Hout-si-Plou",b);var d=n("PinEditDialog-PhoneDiv",h,f.getText("L.Marker.Pin.EditDialog.Phone")+"&nbsp;:&nbsp;");k=p("tel",e.phone,"+32 12 13 15 14",d);var t=n("PinEditDialog-UrlDiv",h,f.getText("L.Marker.Pin.EditDialog.Link")+"&nbsp;:&nbsp;");l=p("url",e.url,"http://www.ouaie.be",t);var u=n("PinEditDialog-CategoryDiv",h,f.getText("L.Marker.Pin.EditDialog.Category")+"&nbsp:&nbsp;");m=q(u);for(var w=0;w<g.length;w++){var x=r(g.getAt(w).CategoryName,m);e.pinCategory&&g.getAt(w).CategoryId===e.pinCategory.CategoryId&&x.setAttribute("selected",!0)}var y=L.DomUtil.create("div","PinEditDialog-ButtonsDiv",h),z=o("PinEditDialog-OkButton",f.getText("L.Marker.Pin.EditDialog.Ok"),y);L.DomEvent.on(z,"click",s);var A=o("PinEditDialog-CancelButton",f.getText("L.Marker.Pin.EditDialog.Cancel"),y);L.DomEvent.on(A,"click",function(){c.closePopup()}),v()},u=function(a){var b="",c=JSON.parse(a);void 0!==c.address.house_number&&(b+=c.address.house_number+" "),void 0!==c.address.road?b+=c.address.road+" ":void 0!==c.address.pedestrian&&(b+=c.address.pedestrian+" "),0<b.length&&(b+="- "),void 0!==c.address.village?b+=c.address.village:void 0!==c.address.town?b+=c.address.town:void 0!==c.address.city&&(b+=c.address.city),0===b.length&&(b+=c.address.country),0<b.length&&(j.value=b)},v=function(){if(!e.exist){var a="http://nominatim.openstreetmap.org/reverse?format=json&lat="+d.lat+"&lon="+d.lng+"&zoom="+c.getZoom()+"&addressdetails=1&accept-language="+f.UserLanguage+"&osm_type=W",b=new XMLHttpRequest;b.onreadystatechange=function(){4==b.readyState&&200==b.status&&u(b.responseText)},b.open("GET",a,!0),b.send(null)}};return{show:function(){t(),L.popup({keepInView:!0,closeButton:!0,maxWidth:400,className:"PinEditDialog"}).setContent(h).setLatLng(d).openOn(c),document.getElementById("TextInput").focus()}}},L.marker.pin.editdialog=function(a,b,c){return new L.Marker.Pin.getEditDialog(a,b,c)},"undefined"!=typeof b&&b.exports&&(b.exports=L.marker.pin.editdialog)}()},{"./L.Marker.Pin":9,"./L.Marker.Pin.Categories":1,"./L.Marker.Pin.ContextMenu":3,"./L.Marker.Pin.Pins":7,"./L.Marker.Pin.Translator":8}],6:[function(a,b,c){!function(){"use strict";"undefined"!=typeof b&&b.exports&&a("./L.Marker.Pin"),L.Marker.Pin.getInterface=function(){var c;c="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Translator"):L.marker.pin.translator();var d;d="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Categories"):L.marker.pin.categories();var e;e="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Pins"):L.marker.pin.pins();var f={mainElement:"div",mainClass:"Pin-Print-Main",pinElement:"div",pinClass:"Pin-Print-Pin",categoryImgClass:"Pin-Print-CategoryImg",categoryElement:"div",categoryClass:"Pin-Print-Category",textElement:"div",textClass:"Pin-Print-Text",addressElement:"div",addressClass:"Pin-Print-Address",phoneElement:"div",phoneClass:"Pin-Print-Phone",urlElement:"div",urlClass:"Pin-Print-Url",urlLength:9999};return{addControl:function(c,d){"undefined"!=typeof b&&b.exports?c.addControl(a("./L.Marker.Pin.Control")(d)):c.addControl(L.marker.pin.control(d))},newPin:function(c,d){var e;e="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.EditDialog"):L.marker.pin.editdialog,new e(c,d,{text:"",phone:"",url:"",address:"",exist:!1}).show()},addDefaultCategories:function(){d.addDefaultCategories()},addCategory:function(a,b,c){return d.addCategory(a,b,c)},addTranslation:function(a,b,d){return c.addTranslation(a,b,d)},addTranslations:function(a,b){return c.addTranslations(a,b)},getText:function(a){return c.getText(a)},setCallbackFunction:function(a){e.setCallbackFunction(a)},stringifyPins:function(){return e.stringify()},parsePins:function(a,b){e.parse(a,b)},get Release(){return"1.2.0"},get UserLanguage(){return c.UserLanguage},set UserLanguage(a){c.UserLanguage=a,d.sort()},get PinsHtlmlOptions(){return f},set PinsHtlmlOptions(a){for(var b in f)a[b]&&(f[b]=a[b])},get PinsHtmlElement(){return e.asHtmlElement(f)}}},L.marker.pin["interface"]=function(){return L.Marker.Pin.getInterface()},"undefined"!=typeof b&&b.exports&&(b.exports=L.marker.pin["interface"])}()},{"./L.Marker.Pin":9,"./L.Marker.Pin.Categories":1,"./L.Marker.Pin.Control":4,"./L.Marker.Pin.EditDialog":5,"./L.Marker.Pin.Pins":7,"./L.Marker.Pin.Translator":8}],7:[function(a,b,c){!function(){"use strict";var c=[],d=0,e=function(){console.log("_CallbackFunction ( )")};L.Marker.Pin.getPins=function(){var f;f="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Translator"):L.marker.pin.translator();var g=function(a){a.mainElement||(a.mainElement="div"),a.pinElement||(a.pinElement="div"),a.categoryElement||(a.categoryElement="div"),a.textElement||(a.textElement="div"),a.addressElement||(a.addressElement="div"),a.phoneElement||(a.phoneElement="div"),a.urlElement||(a.urlElement="div"),a.urlLength||(a.urlLength=9999);var b=document.createElement(a.mainElement);a.mainClass&&(b.className=a.mainClass);for(var d=0;d<c.length;d++){var e=c[d],g=document.createElement(a.pinElement),h="Pin-CategoryId-"+e.options.pinCategory.CategoryId;a.pinClass&&(h=h+" "+a.pinClass),g.className=h,g.draggable=!0,g.dataset.pinRange=d.toString(),L.DomEvent.on(g,"dragover",function(a){a.preventDefault()});var i;e.options.pinCategory.CategoryIcon.options.html?(i=document.createElement("div"),g.appendChild(i),i.outerHTML=e.options.pinCategory.CategoryIcon.options.html):(i=document.createElement("img"),i.setAttribute("src",e.options.pinCategory.CategoryIcon.options.iconUrl),i.draggable=!1,a.categoryImgClass&&(i.className=a.categoryImgClass),g.appendChild(i));var j=document.createElement(a.categoryElement);a.categoryClass&&(j.className=a.categoryClass);var k=document.createTextNode(e.options.pinCategory.CategoryName);if(j.appendChild(k),g.appendChild(j),e.options.text&&0<e.options.text.length){var l=document.createElement(a.textElement);a.textClass&&(l.className=a.textClass);var m=document.createTextNode(e.options.text);l.appendChild(m),g.appendChild(l)}if(e.options.address&&0<e.options.address.length){var n=document.createElement(a.addressElement);a.addressClass&&(n.className=a.addressClass);var o=document.createTextNode(f.getText("L.Marker.Pin.Pins.asHtmlElement.Address")+e.options.address);n.appendChild(o),g.appendChild(n)}if(e.options.phone&&0<e.options.phone.length){var p=document.createElement(a.phoneElement);a.phoneClass&&(p.className=a.phoneClass);var q=document.createTextNode(f.getText("L.Marker.Pin.Pins.asHtmlElement.Phone")+e.options.phone);p.appendChild(q),g.appendChild(p)}if(e.options.url&&0<e.options.url.length){var r=document.createElement(a.urlElement);a.urlClass&&(r.className=a.urlClass);var s=document.createTextNode(f.getText("L.Marker.Pin.Pins.asHtmlElement.Url"));r.appendChild(s);var t=document.createElement("a"),u=e.options.url;u.length>a.urlLength&&(u=u.slice(0,a.urlLength)+" ...");var v=document.createTextNode(u);t.appendChild(v),t.setAttribute("href",e.options.url),t.setAttribute("title",e.options.url),t.setAttribute("target","_blank"),r.appendChild(t),g.appendChild(r)}b.appendChild(g)}return b},h=function(){if(document.getElementById){var a=document.getElementById("PinControl-MainDiv"),b=document.getElementById("PinControl-Pins");if(a&&b){var c=g({mainElement:"div",mainClass:"PinControl-Pins",pinElement:"div",pinClass:"PinControl-Pin",categoryElement:"div",categoryClass:"PinControl-Category",CategoryImgClass:"PinControl-Category-Img",textElement:"div",textClass:"PinControl-Text",addressElement:"div",addressClass:"PinControl-Address",phoneElement:"div",phoneClass:"PinControl-Phone",urlElement:"div",urlClass:"PinControl-Url",urlLength:50});c.id="PinControl-Pins";var d,e=(b.style,window.getComputedStyle(b,null));try{d=e.maxHeight}catch(f){d="400px"}c.dataset.minimized=b.dataset.minimized,"yes"===c.dataset.minimized?c.setAttribute("style","visibility : hidden; width: 0; min-width: 0; height: 0; margin: 0.5em;"):c.setAttribute("style","visibility : visible; width: auto; min-width: 20em; height: auto; margin: 0.5em; max-height: "+d);var h=b.scrollTop;a.replaceChild(c,b),document.getElementById("PinControl-Pins").scrollTop=h}}};return{CallbackFunction:function(){e()},setCallbackFunction:function(a){e=a},push:function(a){return a.options.pinId=d++,c.push(a),this.CallbackFunction(),h(),c.length-1},remove:function(a){for(var b=0;b<c.length;b++)if(c[b].options.pinId===a.options.pinId)return c.splice(b,1),this.CallbackFunction(),h(),b;return-1},order:function(a,b,d){if(a=parseInt(a),b=parseInt(b),d&&(b+=1),!(a>c.length-1||b>c.length||a===b)){for(var e=0,f=[],g=0;g<c.length;g++)g===a||(g===b?(f[e]=c[a],e++,f[e]=c[g],e++):(f[e]=c[g],e++));b===c.length&&(f[c.length-1]=c[a]),c=f,this.CallbackFunction(),h()}},zoomTo:function(a){var b=c[a];return b.options.map.setView(b.getLatLng(),17),b},stringify:function(){for(var a=[],b=0;b<c.length;b++){var d=c[b].getLatLng().lat.toLocaleString("en",{minimumFractionDigits:5,maximumFractionDigits:5})+","+c[b].getLatLng().lng.toLocaleString("en",{minimumFractionDigits:5,maximumFractionDigits:5}),e={l:d,c:c[b].options.pinCategory.CategoryId};c[b].options.text&&0<c[b].options.text.length&&(e.t=c[b].options.text),c[b].options.phone&&0<c[b].options.phone.length&&(e.p=c[b].options.phone),c[b].options.url&&0<c[b].options.url.length&&(e.u=c[b].options.url),c[b].options.address&&0<c[b].options.address.length&&(e.a=c[b].options.address),a.push(e)}return JSON.stringify(a)},parse:function(e,f){c=[];for(var g=JSON.parse(e),i=0;i<g.length;i++){var j=g[i],k=j.l.split(","),l=L.marker.pin.categories().getCategory(j.c);if(l){var m=new L.Marker.Pin(L.latLng(parseFloat(k[0]),parseFloat(k[1])),{icon:l.CategoryIcon,draggable:!0,className:"Pin",title:l.CategoryName,phone:j.p?j.p:"",url:j.u?j.u:"",text:j.t?j.t:"",address:j.a?j.a:"",pinCategory:l,map:f,pinId:d++});c.push(m),m.bindPopup(m.getHtml()).addTo(f);var n;n="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.ContextMenu"):L.marker.pin.contextmenu,m.on("contextmenu",n),m.on("dragend",this.CallbackFunction)}}h()},asHtmlElement:function(a){return g(a)},get LatLngBounds(){for(var a=[],b=0;b<c.length;b++)a.push(c[b].getLatLng());return L.latLngBounds(a)},get length(){return c.length}}},L.marker.pin.pins=function(){return L.Marker.Pin.getPins()},"undefined"!=typeof b&&b.exports&&(b.exports=L.marker.pin.pins())}()},{"./L.Marker.Pin.ContextMenu":3,"./L.Marker.Pin.Translator":8}],8:[function(a,b,c){!function(){"use strict";"undefined"!=typeof b&&b.exports&&a("./L.Marker.Pin");var c="fr",d={"L.Marker.Pin.Address":{fr:"Adresse",en:"Address",nl:"Adres"},"L.Marker.Pin.Phone":{fr:"Téléphone",en:"Phone",nl:"Telefoon"},"L.Marker.Pin.Link":{fr:"Lien",en:"Link",nl:"Link"},"L.Marker.Pin.ContextMenu.EditPin":{fr:"Éditer cette épingle",en:"Edit this pin",nl:"Vlag veranderen"},"L.Marker.Pin.ContextMenu.DeletePin":{fr:"Supprimer cette épingle",en:"Delete this pin",nl:"Vlag wissen"},"L.Marker.Pin.ContextMenu.CloseMenu":{fr:"Fermer ce menu",en:"Close this menu",nl:"Venster sluiten"},"L.Marker.Pin.EditDialog.PinModification":{fr:"Modification de l'épingle",en:"Pin's modification",nl:"Vlag veranderen"},"L.Marker.Pin.EditDialog.NewPin":{fr:"Nouvelle épingle",en:"New Pin",nl:"Nieuwe vlag"},"L.Marker.Pin.EditDialog.Text":{fr:"Texte",en:"Text",nl:"Tekst"},"L.Marker.Pin.EditDialog.Address":{fr:"Adresse",en:"Address",nl:"Adres"},"L.Marker.Pin.EditDialog.Phone":{fr:"Tél.",en:"Phone",nl:"Telefoon"},"L.Marker.Pin.EditDialog.Link":{fr:"Lien",en:"Link",nl:"Link"},"L.Marker.Pin.EditDialog.Category":{fr:"Catégorie",en:"Category",nl:"Categorie"},"L.Marker.Pin.EditDialog.Ok":{fr:"Terminer",en:"Ok",nl:"Aannemen"},"L.Marker.Pin.EditDialog.Cancel":{fr:"Abandonner",en:"Cancel",nl:"Annuleren"},"L.Marker.Pin.Pins.asHtmlElement.Address":{fr:"Adresse: ",en:"Address: ",nl:"Adres: "},"L.Marker.Pin.Pins.asHtmlElement.Phone":{fr:"Téléphone: ",en:"Phone: ",nl:"Telefoon: "},"L.Marker.Pin.Pins.asHtmlElement.Url":{fr:"Lien: ",en:"Link: ",nl:"Link: "},"L.Marker.Pin.Control.onAdd.ZoomBoundsButton":{fr:"Zoom sur les épingles",en:"Zoom on pins",nl:""},"L.Marker.Pin.Control.onAdd.MinimizeButton":{fr:"Réduire la fenêtre",en:"Minimize the window",nl:""},"L.Marker.Pin.Control.onAdd.MaximizeButton":{fr:"Agrandir la fenêtre",en:"Maximize the window",nl:""},"L.Marker.Pin.Control.onAdd.ExtendButton":{fr:"Augmenter la hauteur de la fenêtre",en:"Extend the window height",nl:""},"L.Marker.Pin.Control.onAdd.ReduceButton":{fr:"Réduire la hauteur de la fenêtre",en:"Reduce the window height",nl:""}};L.Marker.Pin.getTranslator=function(){return{getText:function(a){if(!d[a])return console.log("Invalid TextId : '"+a+"'."),"???";var b="en";return d[a][c]?d[a][c]:d[a][b]?d[a][b]:"???"},addTranslation:function(a,b,c){return d[a]?d[a][b]?(console.log("The translation to '"+b+"' exists already for the TextId '"+a+"'."),!1):(d[a][b]=c,!0):(console.log("Invalid TextId : '"+a+"'."),!1)},addTranslations:function(a,b){return d[a]?(console.log("The TextId : '"+a+"' is already used."),!1):(d[a]=b,!0)},get UserLanguage(){return c},set UserLanguage(a){c=a}}},L.marker.pin.translator=function(){return L.Marker.Pin.getTranslator()},"undefined"!=typeof b&&b.exports&&(b.exports=L.marker.pin.translator())}()},{"./L.Marker.Pin":9}],9:[function(a,b,c){!function(){"use strict";L.Marker.Pin=L.Marker.extend({options:{text:"",phone:"",url:"",address:"",pinCategory:void 0,pinId:0},getHtml:function(){var c;c="undefined"!=typeof b&&b.exports?a("./L.Marker.Pin.Translator"):L.marker.pin.translator();var d="";return this.options.text&&0<this.options.text.length&&(d+=this.options.text),this.options.address&&0<this.options.address.length&&(0<d.length&&(d+="<br />"),d+=c.getText("L.Marker.Pin.Address")+"&nbsp;: "+this.options.address),this.options.phone&&0<this.options.phone.length&&(0<d.length&&(d+="<br />"),d+=c.getText("L.Marker.Pin.Phone")+"&nbsp;: "+this.options.phone),this.options.url&&0<this.options.url.length&&(0<d.length&&(d+="<br />"),d+=c.getText("L.Marker.Pin.Link")+'&nbsp: <a href="'+this.options.url+'" target="_blank">'+this.options.url.slice(0,50)+"</a>"),d}}),L.marker.pin=function(a,b){return new L.Marker.Pin(a,b)},"undefined"!=typeof b&&b.exports&&(b.exports=L.marker.pin)}()},{"./L.Marker.Pin.Translator":8}]},{},[6]);